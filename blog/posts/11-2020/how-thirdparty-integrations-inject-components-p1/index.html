<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.25.1"/><title data-react-helmet="true">How third-party integrations inject their components to a webpage? - Part 1 | shamin.github.io</title><link data-react-helmet="true" rel="preconnect" href="https://fonts.gstatic.com"/><link data-react-helmet="true" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500&amp;display=swap" rel="stylesheet"/><meta data-react-helmet="true" name="description" content="Shamin&#x27;s blog"/><meta data-react-helmet="true" property="og:title" content="How third-party integrations inject their components to a webpage? - Part 1"/><meta data-react-helmet="true" property="og:description" content="Shamin&#x27;s blog"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@shamin"/><meta data-react-helmet="true" name="twitter:title" content="How third-party integrations inject their components to a webpage? - Part 1"/><meta data-react-helmet="true" name="twitter:description" content="Shamin&#x27;s blog"/><link rel="icon" href="/favicon-32x32.png?v=7a885a4e45884851e6c0a7e8dd3faecf" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#161D2E"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=7a885a4e45884851e6c0a7e8dd3faecf"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=7a885a4e45884851e6c0a7e8dd3faecf"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=7a885a4e45884851e6c0a7e8dd3faecf"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=7a885a4e45884851e6c0a7e8dd3faecf"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=7a885a4e45884851e6c0a7e8dd3faecf"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=7a885a4e45884851e6c0a7e8dd3faecf"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=7a885a4e45884851e6c0a7e8dd3faecf"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=7a885a4e45884851e6c0a7e8dd3faecf"/><link as="script" rel="preload" href="/webpack-runtime-9116b321da17fff3e8ca.js"/><link as="script" rel="preload" href="/framework-bb91e7b46c229b5beac8.js"/><link as="script" rel="preload" href="/app-3572313c94ca9dcbe745.js"/><link as="script" rel="preload" href="/commons-ec1ff0196f221512f64c.js"/><link as="script" rel="preload" href="/db1ad5d96c3533ff153290b69e803cb0260c8873-0532524db0f95f077589.js"/><link as="script" rel="preload" href="/component---src-pages-blog-posts-11-2020-how-thirdparty-integrations-inject-components-p-1-mdx-36384ca6dd90a0c79841.js"/><link as="fetch" rel="preload" href="/page-data/blog/posts/11-2020/how-thirdparty-integrations-inject-components-p1/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/63159454.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-PWMZ27CHJB"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());

              gtag('config', 'G-PWMZ27CHJB');
                </script></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><style data-emotion-css="a2ej43">body{font-family:"Poppins",sans-serif;margin:0;}</style><div><style data-emotion-css="d3camc">.css-d3camc{margin:30px auto 0 auto;max-width:900px;padding:0 30px 140px 30px;}.css-d3camc .post__content{margin-top:60px;}.css-d3camc .post__heading{margin-bottom:10px;}.css-d3camc .post__date{font-size:14px;}.css-d3camc .syntax-highlight{padding:30px;border-radius:10px;font-family:SF Mono,sans-serif;font-size:16px;line-height:1.6em;-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;font-weight:100;overflow-y:scroll;}.css-d3camc code{font-family:inherit;background:#dedede;border-radius:2px;padding:0 5px;font-size:14px;}.css-d3camc a{-webkit-text-decoration:none;text-decoration:none;color:#0000ee;}.css-d3camc h1 a,.css-d3camc h2 a,.css-d3camc h3 a,.css-d3camc h4 a{color:#000;}</style><div class="css-d3camc"><style data-emotion-css="1rmcb83">.css-1rmcb83{font-size:40px;}.css-1rmcb83 a{-webkit-text-decoration:none;text-decoration:none;}</style><div class="css-1rmcb83"><a href="/">üè†</a></div><div class="post__content"><h1 class="post__heading">How third-party integrations inject their components to a webpage? - Part 1</h1><p class="post__date">10 November 2020</p><p>Ever wondered how chatbots and other pop up apps inject their components into your website. Usually what they do is they will ask you to add a script snippet to your website and the component pops up. In this post, I want to explain how I did manage to create a script that does this.</p><p>Let&#x27;s start with a script snippet that you can ask a user to put on their website. You don&#x27;t want to ask them to add 100 lines of javascript code to their website. Instead what you can do is create a script that injects a javascript file served from your CDN, that can have 100 or more lines. This is what most of the small scripts that you add to your website do, they load more scripts. So let&#x27;s start with a small javascript code that adds a new script to your DOM.</p><pre><style data-emotion-css="cssveg">.css-cssveg{position:relative;}</style><div class="css-cssveg"><style data-emotion-css="i2yqko">.css-i2yqko{position:absolute;right:10px;top:10px;background:none;color:#fff;border:1px solid #fff;padding:5px 10px;border-radius:7px;cursor:pointer;}.css-i2yqko:focus{outline:none;border-radius:7px;border-color:#0000ee;}</style><button class="css-i2yqko">Copy</button><div class="prism-code language-js syntax-highlight" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">var</span><span class="token plain"> scriptElement </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#d7deea">document</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">createElement</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;script&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">var</span><span class="token plain"> firstScriptElement </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#d7deea">document</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">getElementsByTagName</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;script&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">scriptElement</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">src</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;&lt;https://yourcdn.com/script.js&gt;&quot;</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">scriptElement</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">async</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">firstScriptElement</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">parentNode</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">insertBefore</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">scriptElement</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> firstScriptElement</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span></div></div></div></pre><p>It is not a good idea to add this to your snippet instead what you can do is to create an <a href="https://developer.mozilla.org/en-US/docs/Glossary/IIFE">IIFE</a>. These are functions that are executed immediately. And the good thing about this is the variables you declare in this function are only going to have function scope. So it won&#x27;t cause any other issues if any other script uses the same variable names. Let&#x27;s encapsulate this in an IIFE.</p><pre><div class="css-cssveg"><button class="css-i2yqko">Copy</button><div class="prism-code language-js syntax-highlight" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">function</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">var</span><span class="token plain"> scriptElement </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#d7deea">document</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">createElement</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;script&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">var</span><span class="token plain"> firstScriptElement </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#d7deea">document</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">getElementsByTagName</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;script&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    scriptElement</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">src</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;&lt;https://yourcdn.com/script.js&gt;&quot;</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    scriptElement</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">async</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    firstScriptElement</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">parentNode</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">insertBefore</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">scriptElement</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> firstScriptElement</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span></div></div></div></pre><p>Let&#x27;s make use of this newly created function to accept some useful parameters like tag name, script url, etc.</p><pre><div class="css-cssveg"><button class="css-i2yqko">Copy</button><div class="prism-code language-js syntax-highlight" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">function</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token parameter">document</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> tagName</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> scriptAddress</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">var</span><span class="token plain"> scriptElement </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#d7deea">document</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">createElement</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tagName</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">var</span><span class="token plain"> firstScriptElement </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#d7deea">document</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">getElementsByTagName</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tagName</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    scriptElement</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">src</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> scriptAddress</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    scriptElement</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">async</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    firstScriptElement</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">parentNode</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">insertBefore</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">scriptElement</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> firstScriptElement</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token dom variable" style="color:#d7deea">document</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;script&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;&lt;https://yourcdn.com/script.js&gt;&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span></div></div></div></pre><p>Since we have a script let&#x27;s make the most out of it. Usually what most people do is add a global object which can hold some functionalities for our later use. Also, we will need something to figure out which webpage is calling this.</p><pre><div class="css-cssveg"><button class="css-i2yqko">Copy</button><div class="prism-code language-js syntax-highlight" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">function</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token parameter">window</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> document</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> tagName</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> globalName</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> scriptAddress</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token dom variable" style="color:#d7deea">window</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;MyAppObject&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> globalName</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">var</span><span class="token plain"> scriptElement </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#d7deea">document</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">createElement</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tagName</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">var</span><span class="token plain"> firstScriptElement </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#d7deea">document</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">getElementsByTagName</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tagName</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    scriptElement</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">src</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> scriptAddress</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    scriptElement</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">async</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    firstScriptElement</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">parentNode</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">insertBefore</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">scriptElement</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> firstScriptElement</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token dom variable" style="color:#d7deea">window</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token dom variable" style="color:#d7deea">document</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;script&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;myapp&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;&lt;https://yourcdn.com/script.js&gt;&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span></div></div></div></pre><p>Let&#x27;s consider we want to call an initialize function that starts rendering a chatbot. Now that we have a global object that can be called from anywhere we can use it to initialize our app like,</p><pre><div class="css-cssveg"><button class="css-i2yqko">Copy</button><div class="prism-code language-js syntax-highlight" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="token function" style="color:#79b6f2">myapp</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;init&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;some_unique_id&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span></div></div></div></pre><p>To do this we are going to create a queue that holds all these functions and arguments until our main script is loaded. Also, add an id to our script so that it is easy for us to later find it.</p><pre><div class="css-cssveg"><button class="css-i2yqko">Copy</button><div class="prism-code language-js syntax-highlight" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">function</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token parameter">window</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> document</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> tagName</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> globalName</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> scriptAddress</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token dom variable" style="color:#d7deea">window</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;MyAppObject&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> globalName</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token dom variable" style="color:#d7deea">window</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">globalName</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#d7deea">window</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">globalName</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">||</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token dom variable" style="color:#d7deea">window</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">globalName</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">queue</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#d7deea">window</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">globalName</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">queue</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">push</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain">    </span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">var</span><span class="token plain"> scriptElement </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#d7deea">document</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">createElement</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tagName</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">var</span><span class="token plain"> firstScriptElement </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#d7deea">document</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">getElementsByTagName</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tagName</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    scriptElement</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">id</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> globalName</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    scriptElement</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">src</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> scriptAddress</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    scriptElement</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">async</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    firstScriptElement</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">parentNode</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">insertBefore</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">scriptElement</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> firstScriptElement</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token dom variable" style="color:#d7deea">window</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token dom variable" style="color:#d7deea">document</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;script&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;myapp&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;&lt;https://yourcdn.com/script.js&gt;&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token function" style="color:#79b6f2">myapp</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;init&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;some_unique_id&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span></div></div></div></pre><p>Hooray, now we have a queue at <code>myapp.queue</code> that can be later used in our function to do some initialization.</p><p>Unfortunately, our script snippet got bigger and we don&#x27;t want our users to copy this big script. Also, we don&#x27;t want our users to understand what we are doing, I am kidding. So let&#x27;s reduce the script size and mess it a little up. Why do we even need such long variable names? (Spoiler Alert)</p><pre><div class="css-cssveg"><button class="css-i2yqko">Copy</button><div class="prism-code language-js syntax-highlight" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token parameter">w</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> d</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> s</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> o</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> f</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  w</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;MyAppObject&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> o</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  w</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">o</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> w</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">o</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">||</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">w</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">o</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">q</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> w</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">o</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">q</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">push</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">var</span><span class="token plain"> js </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">createElement</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">var</span><span class="token plain"> fjs </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">getElementsByTagName</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  js</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">id</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> o</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  js</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">src</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> f</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  js</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">async</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  fjs</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">parentNode</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">insertBefore</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">js</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> fjs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token dom variable" style="color:#d7deea">window</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token dom variable" style="color:#d7deea">document</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;script&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;myapp&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;&lt;https://yourcdn.com/script.js&gt;&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token function" style="color:#79b6f2">myapp</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;init&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;some_unique_id&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span></div></div></div></pre><p>Let&#x27;s make it smaller by removing those var declarations by getting them as functional parameters. Also reducing the lines.</p><pre><div class="css-cssveg"><button class="css-i2yqko">Copy</button><div class="prism-code language-js syntax-highlight" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token parameter">w</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> d</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> s</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> o</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> f</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> js</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> fjs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  w</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;MyAppObject&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> o</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"> w</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">o</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> w</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">o</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">||</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">w</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">o</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">q</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> w</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">o</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">q</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">push</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    js </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">createElement</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> fjs </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">getElementsByTagName</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  js</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">id</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> o</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"> js</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">src</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> f</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"> js</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">async</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"> fjs</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">parentNode</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">insertBefore</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">js</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> fjs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token dom variable" style="color:#d7deea">window</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token dom variable" style="color:#d7deea">document</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;script&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;myapp&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;&lt;https://yourcdn.com/script.js&gt;&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token function" style="color:#79b6f2">myapp</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;init&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;some_unique_id&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span></div></div></div></pre><p>That&#x27;s it for now. Now we have a script snippet that injects our main script to a webpage and also initializes it. In my next post, I will be explaining how you can use the <code>myapp.queue</code> and inject an iframe into your user&#x27;s website.</p></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/posts/11-2020/how-thirdparty-integrations-inject-components-p1/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-fc856b076e3643ef0896.js"],"app":["/app-3572313c94ca9dcbe745.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-ae976ff824e8285f21cc.js"],"component---src-pages-blog-posts-11-2020-how-i-created-this-blog-mdx":["/component---src-pages-blog-posts-11-2020-how-i-created-this-blog-mdx-69287ed05f87d9eb5876.js"],"component---src-pages-blog-posts-11-2020-how-thirdparty-integrations-inject-components-p-1-mdx":["/component---src-pages-blog-posts-11-2020-how-thirdparty-integrations-inject-components-p-1-mdx-36384ca6dd90a0c79841.js"],"component---src-pages-blog-tsx":["/component---src-pages-blog-tsx-cc303a5749cd05275401.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-aa4f38c79b8858f07bd1.js"],"component---src-pages-resume-tsx":["/component---src-pages-resume-tsx-c93243ed3a3fe9e796f7.js"]};/*]]>*/</script><script src="/polyfill-fc856b076e3643ef0896.js" nomodule=""></script><script src="/component---src-pages-blog-posts-11-2020-how-thirdparty-integrations-inject-components-p-1-mdx-36384ca6dd90a0c79841.js" async=""></script><script src="/db1ad5d96c3533ff153290b69e803cb0260c8873-0532524db0f95f077589.js" async=""></script><script src="/commons-ec1ff0196f221512f64c.js" async=""></script><script src="/app-3572313c94ca9dcbe745.js" async=""></script><script src="/framework-bb91e7b46c229b5beac8.js" async=""></script><script src="/webpack-runtime-9116b321da17fff3e8ca.js" async=""></script></body></html>